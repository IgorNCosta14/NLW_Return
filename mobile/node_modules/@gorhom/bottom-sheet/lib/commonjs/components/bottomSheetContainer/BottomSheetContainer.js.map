{"version":3,"sources":["BottomSheetContainer.tsx"],"names":["BottomSheetContainerComponent","containerHeight","containerOffset","topInset","bottomInset","shouldCalculateHeight","detached","children","containerRef","containerStyle","styles","container","top","bottom","overflow","handleContainerLayout","nativeEvent","layout","height","value","current","measure","_x","_y","_width","_height","_pageX","pageY","left","right","Math","max","WINDOW_HEIGHT","StatusBar","currentHeight","component","BottomSheetContainer","displayName","method","params","undefined"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;AAGA,SAASA,6BAAT,CAAuC;AACrCC,EAAAA,eADqC;AAErCC,EAAAA,eAFqC;AAGrCC,EAAAA,QAAQ,GAAG,CAH0B;AAIrCC,EAAAA,WAAW,GAAG,CAJuB;AAKrCC,EAAAA,qBAAqB,GAAG,IALa;AAMrCC,EAAAA,QANqC;AAOrCC,EAAAA;AAPqC,CAAvC,EAQ8B;AAC5B,QAAMC,YAAY,GAAG,mBAAa,IAAb,CAArB,CAD4B,CAE5B;;AACA,QAAMC,cAAc,GAAG,oBACrB,MAAM,CACJC,eAAOC,SADH,EAEJ;AACEC,IAAAA,GAAG,EAAET,QADP;AAEEU,IAAAA,MAAM,EAAET,WAFV;AAGEU,IAAAA,QAAQ,EAAER,QAAQ,GAAG,SAAH,GAAe;AAHnC,GAFI,CADe,EASrB,CAACA,QAAD,EAAWH,QAAX,EAAqBC,WAArB,CATqB,CAAvB,CAH4B,CAc5B;AAEA;;AACA,QAAMW,qBAAqB,GAAG,wBAC5B,SAASA,qBAAT,CAA+B;AAC7BC,IAAAA,WAAW,EAAE;AACXC,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AADG;AADgB,GAA/B,EAIsB;AAAA;;AACpBjB,IAAAA,eAAe,CAACkB,KAAhB,GAAwBD,MAAxB;AAEA,6BAAAV,YAAY,CAACY,OAAb,gFAAsBC,OAAtB,CACE,CAACC,EAAD,EAAKC,EAAL,EAASC,MAAT,EAAiBC,OAAjB,EAA0BC,MAA1B,EAAkCC,KAAlC,KAA4C;AAAA;;AAC1CzB,MAAAA,eAAe,CAACiB,KAAhB,GAAwB;AACtBP,QAAAA,GAAG,EAAEe,KADiB;AAEtBC,QAAAA,IAAI,EAAE,CAFgB;AAGtBC,QAAAA,KAAK,EAAE,CAHe;AAItBhB,QAAAA,MAAM,EAAEiB,IAAI,CAACC,GAAL,CACN,CADM,EAENC,4BAAiBL,KAAK,GAAGT,MAAR,6BAAkBe,uBAAUC,aAA5B,yEAA6C,CAA7C,CAAjB,CAFM;AAJc,OAAxB;AASD,KAXH;AAcA,0BAAM;AACJC,MAAAA,SAAS,EAAEC,oBAAoB,CAACC,WAD5B;AAEJC,MAAAA,MAAM,EAAE,uBAFJ;AAGJC,MAAAA,MAAM,EAAE;AACNrB,QAAAA;AADM;AAHJ,KAAN;AAOD,GA7B2B,EA8B5B,CAACjB,eAAD,EAAkBC,eAAlB,EAAmCM,YAAnC,CA9B4B,CAA9B,CAjB4B,CAiD5B;AAEA;;AACA,sBACE,6BAAC,iBAAD;AACE,IAAA,GAAG,EAAEA,YADP;AAEE,IAAA,aAAa,EAAC,UAFhB;AAGE,IAAA,QAAQ,EAAEH,qBAAqB,GAAGU,qBAAH,GAA2ByB,SAH5D;AAIE,IAAA,KAAK,EAAE/B,cAJT;AAKE,IAAA,QAAQ,EAAEF;AALZ,IADF,CApD4B,CA6D5B;AACD;;AAED,MAAM6B,oBAAoB,gBAAG,iBAAKpC,6BAAL,CAA7B;AACAoC,oBAAoB,CAACC,WAArB,GAAmC,sBAAnC;eAEeD,oB","sourcesContent":["import React, { memo, useCallback, useMemo, useRef } from 'react';\nimport { LayoutChangeEvent, StatusBar, View, ViewStyle } from 'react-native';\nimport { WINDOW_HEIGHT } from '../../constants';\nimport { print } from '../../utilities';\nimport { styles } from './styles';\nimport type { BottomSheetContainerProps } from './types';\n\nfunction BottomSheetContainerComponent({\n  containerHeight,\n  containerOffset,\n  topInset = 0,\n  bottomInset = 0,\n  shouldCalculateHeight = true,\n  detached,\n  children,\n}: BottomSheetContainerProps) {\n  const containerRef = useRef<View>(null);\n  //#region styles\n  const containerStyle = useMemo<ViewStyle[]>(\n    () => [\n      styles.container,\n      {\n        top: topInset,\n        bottom: bottomInset,\n        overflow: detached ? 'visible' : 'hidden',\n      },\n    ],\n    [detached, topInset, bottomInset]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerLayout = useCallback(\n    function handleContainerLayout({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) {\n      containerHeight.value = height;\n\n      containerRef.current?.measure(\n        (_x, _y, _width, _height, _pageX, pageY) => {\n          containerOffset.value = {\n            top: pageY,\n            left: 0,\n            right: 0,\n            bottom: Math.max(\n              0,\n              WINDOW_HEIGHT - (pageY + height + (StatusBar.currentHeight ?? 0))\n            ),\n          };\n        }\n      );\n\n      print({\n        component: BottomSheetContainer.displayName,\n        method: 'handleContainerLayout',\n        params: {\n          height,\n        },\n      });\n    },\n    [containerHeight, containerOffset, containerRef]\n  );\n  //#endregion\n\n  //#region render\n  return (\n    <View\n      ref={containerRef}\n      pointerEvents=\"box-none\"\n      onLayout={shouldCalculateHeight ? handleContainerLayout : undefined}\n      style={containerStyle}\n      children={children}\n    />\n  );\n  //#endregion\n}\n\nconst BottomSheetContainer = memo(BottomSheetContainerComponent);\nBottomSheetContainer.displayName = 'BottomSheetContainer';\n\nexport default BottomSheetContainer;\n"]}